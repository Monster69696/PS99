local Players = game:GetService("Players")
local Lighting = game:GetService("Lighting")
local Workspace = game:GetService("Workspace")
local player = Players.LocalPlayer
local cam = Workspace.CurrentCamera

--// Base Lighting Optimization
Lighting.GlobalShadows = false
Lighting.Brightness = 0
Lighting.OutdoorAmbient = Color3.new(0, 0, 0)
Lighting.ClockTime = 0
Lighting.FogEnd = 1e10

-- Remove all post-processing
for _, v in ipairs(Lighting:GetChildren()) do
	if v:IsA("PostEffect") then v:Destroy() end
end

-- Black sky
pcall(function()
	local sky = Instance.new("Sky", Lighting)
	sky.SkyboxBk = ""
	sky.SkyboxDn = ""
	sky.SkyboxFt = ""
	sky.SkyboxLf = ""
	sky.SkyboxRt = ""
	sky.SkyboxUp = ""
end)

--// Selective Object Optimization
for _, obj in ipairs(Workspace:GetDescendants()) do
	if obj:IsA("BasePart") and not obj:IsDescendantOf(player.Character) then
		if obj.Name:lower():find("water") or obj.Name:lower():find("fish") then
			obj.Transparency = 0.5
			obj.Material = Enum.Material.SmoothPlastic
		else
			obj.Transparency = 1
			obj.CastShadow = false
			pcall(function() obj.CanCollide = false end)
		end
	elseif obj:IsA("Decal") or obj:IsA("Texture") or obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Beam") then
		obj:Destroy()
	end
end

--// Remove pet/player accessories & animations
local function cleanCharacter(char)
	for _, item in ipairs(char:GetDescendants()) do
		if item:IsA("Accessory") or item:IsA("Clothing") or item:IsA("Animation") or item:IsA("Animator") or item:IsA("AnimationController") then
			item:Destroy()
		end
	end
end

for _, p in ipairs(Players:GetPlayers()) do
	if p.Character then cleanCharacter(p.Character) end
	p.CharacterAdded:Connect(cleanCharacter)
end

--// UI - Black Screen Toggle
local gui = Instance.new("ScreenGui", player:WaitForChild("PlayerGui"))
gui.Name = "FishingOptimizationGUI"

local black = Instance.new("Frame", gui)
black.Size = UDim2.new(1, 0, 1, 0)
black.BackgroundColor3 = Color3.new(0, 0, 0)
black.BorderSizePixel = 0
black.Visible = false
black.ZIndex = 10

local toggle = Instance.new("TextButton", gui)
toggle.Size = UDim2.new(0, 140, 0, 40)
toggle.Position = UDim2.new(1, -150, 1, -50)
toggle.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
toggle.TextColor3 = Color3.new(1, 1, 1)
toggle.Font = Enum.Font.GothamBold
toggle.Text = "TOGGLE BLACK SCREEN"
toggle.ZIndex = 11
toggle.MouseButton1Click:Connect(function()
	black.Visible = not black.Visible
end)

--// Optional: Freeze camera (uncomment to lock view)
-- cam.CameraType = Enum.CameraType.Scriptable

print("Hybrid Fishing Optimization Loaded Successfully!")

pcall(function()
    -- Suppress console messages
    local OldPrint = print
    print = function() end

    -- Cap FPS to save performance
    if setfpscap then
        setfpscap(20)
    elseif setfpscap_internal then
        setfpscap_internal(20)
    end

    -- FPS Counter (Optional UI)
    local RunService = game:GetService("RunService")
    local StatsGui = Instance.new("ScreenGui", game:GetService("CoreGui"))
    StatsGui.Name = "FPSCounter"

    local TextLabel = Instance.new("TextLabel", StatsGui)
    TextLabel.Size = UDim2.new(0, 100, 0, 25)
    TextLabel.Position = UDim2.new(0, 10, 0, 10)
    TextLabel.BackgroundTransparency = 0.3
    TextLabel.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    TextLabel.TextColor3 = Color3.new(1, 1, 1)
    TextLabel.TextScaled = true
    TextLabel.Font = Enum.Font.SourceSansBold
    TextLabel.Text = "FPS: ..."

    local lastTime, frames = tick(), 0
    RunService.RenderStepped:Connect(function()
        frames += 1
        local now = tick()
        if now - lastTime >= 1 then
            TextLabel.Text = "FPS: " .. frames
            frames = 0
            lastTime = now
        end
    end)

    -- Check if any ancestor has 'fish' or 'event' in name
    local function isFishOrEventRelated(obj)
        local parent = obj
        while parent do
            local name = parent.Name:lower()
            if name:find("fish") or name:find("event") then
                return true
            end
            parent = parent.Parent
        end
        return false
    end

    for _, obj in ipairs(game:GetDescendants()) do
        local isFishEvent = isFishOrEventRelated(obj)

        if obj:IsA("BasePart") then
            -- Light visual optimization even inside fish folders
            obj.Material = Enum.Material.SmoothPlastic
            obj.Color = Color3.fromRGB(40, 40, 40)
            obj.CastShadow = false
            obj.Transparency = 0.5  -- Set transparency
        elseif (obj:IsA("ParticleEmitter") or obj:IsA("Trail") or obj:IsA("Beam") or obj:IsA("Fire") or obj:IsA("Smoke") or obj:IsA("Sparkles")) and not isFishEvent then
            obj:Destroy()
        elseif (obj:IsA("Texture") or obj:IsA("Decal") or obj:IsA("SurfaceAppearance")) and not isFishEvent then
            obj:Destroy()
        elseif (obj:IsA("BillboardGui") or obj:IsA("SurfaceGui")) and not obj:IsDescendantOf(game:GetService("StarterGui")) and not isFishEvent then
            obj.Enabled = false
        end
    end

    -- Remove other player pets
    local pets = workspace:FindFirstChild("Pets")
    if pets then
        for _, pet in pairs(pets:GetChildren()) do
            pet:Destroy()
        end
    end

    -- Remove accessories on other players
    for _, plr in pairs(game:GetService("Players"):GetPlayers()) do
        if plr ~= game.Players.LocalPlayer then
            if plr.Character then
                for _, v in pairs(plr.Character:GetDescendants()) do
                    if v:IsA("Accessory") or v:IsA("Hat") then
                        v:Destroy()
                    end
                end
            end
        end
    end

    -- Destroy MapEffects if it exists
    if workspace:FindFirstChild("MapEffects") then
        workspace.MapEffects:Destroy()
    end

    -- Lighting tweak
    local lighting = game:GetService("Lighting")
    lighting.Sky = nil
    lighting.FogStart = 0
    lighting.FogEnd = 1000
    lighting.Brightness = 0

    -- Restore the original print function
    print = OldPrint
end)

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Network = ReplicatedStorage:WaitForChild("Network")
local PlotsFolder = workspace:WaitForChild("__THINGS"):WaitForChild("Plots")
local PlotsInvoke = Network:WaitForChild("Plots_Invoke")

local eggName = "Pixel Angelus" -- Change to your desired egg name
local savedPlotId = nil

local function tryBuyEgg(plotId)
    local success, err = pcall(function()
        local args = {plotId, "BuyEgg", eggName}
        PlotsInvoke:InvokeServer(unpack(args))
    end)
    return success
end

local function findWorkingPlotId()
    for _, plot in ipairs(PlotsFolder:GetChildren()) do
        if plot:IsA("Folder") or plot:IsA("Model") then
            local plotId = tonumber(plot.Name)
            if plotId then
                if tryBuyEgg(plotId) then
                    return plotId
                end
            end
        end
    end
    return nil
end

while true do
    if savedPlotId then
        local success = tryBuyEgg(savedPlotId)
        if not success then
            -- If buying fails with saved plot, try finding a new one
            savedPlotId = findWorkingPlotId()
        end
    else
        savedPlotId = findWorkingPlotId()
    end

    task.wait(30) -- wait 1 minute before next buy attempt
end
